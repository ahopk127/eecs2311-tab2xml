<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="861px" preserveAspectRatio="none" style="width:960px;height:861px;" version="1.1" viewBox="0 0 960 861" width="960px" zoomAndPan="magnify"><defs><filter height="300%" id="fyzvv7ptmd6tn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[df152c2476dc0702efc46fc22338464c]
class Processor--><rect codeLine="1" fill="#FEFECE" filter="url(#fyzvv7ptmd6tn)" height="304.0938" id="Processor" style="stroke:#A80036;stroke-width:1.5;" width="477" x="134.5" y="115"/><ellipse cx="338.25" cy="131" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M340.5938,126.6719 C339.6563,126.2344 339.0625,126.0938 338.1875,126.0938 C335.5625,126.0938 333.5625,128.1719 333.5625,130.8906 L333.5625,132.0156 C333.5625,134.5938 335.6719,136.4844 338.5625,136.4844 C339.7813,136.4844 340.9375,136.1875 341.6875,135.6406 C342.2656,135.2344 342.5938,134.7813 342.5938,134.3906 C342.5938,133.9375 342.2031,133.5469 341.7344,133.5469 C341.5156,133.5469 341.3125,133.625 341.125,133.8125 C340.6719,134.2969 340.6719,134.2969 340.4844,134.3906 C340.0625,134.6563 339.375,134.7813 338.6094,134.7813 C336.5625,134.7813 335.2656,133.6875 335.2656,131.9844 L335.2656,130.8906 C335.2656,129.1094 336.5156,127.7969 338.25,127.7969 C338.8281,127.7969 339.4375,127.9531 339.9063,128.2031 C340.3906,128.4844 340.5625,128.7031 340.6563,129.1094 C340.7188,129.5156 340.75,129.6406 340.8906,129.7656 C341.0313,129.9063 341.2656,130.0156 341.4844,130.0156 C341.75,130.0156 342.0156,129.875 342.1875,129.6563 C342.2969,129.5 342.3281,129.3125 342.3281,128.8906 L342.3281,127.4688 C342.3281,127.0313 342.3125,126.9063 342.2188,126.75 C342.0625,126.4844 341.7813,126.3438 341.4844,126.3438 C341.1875,126.3438 340.9844,126.4375 340.7656,126.75 L340.5938,126.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61" x="358.75" y="135.1543">Processor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="135.5" x2="610.5" y1="147" y2="147"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="155"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="141" x="154.5" y="161.2104">SerializeGuitarScore sgs</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="167.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="138" x="154.5" y="174.0151">SerializeDrumScore sds</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="158.5" y="186.8198"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="193.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="154.5" y="199.6245">String input</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="206.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="154.5" y="212.4292">Instrument instrument</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="219.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="154.5" y="225.2339">XMLMetadata metadata</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="231.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="154.5" y="238.0386">InputValidation validator</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="244.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="270" x="154.5" y="250.8433">LinkedList&lt;ParseWarning&gt; preprocessWarnings</text><line style="stroke:#A80036;stroke-width:1.5;" x1="135.5" x2="610.5" y1="257.4375" y2="257.4375"/><ellipse cx="145.5" cy="268.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="246" x="154.5" y="271.6479">Processor(String, Instrument, XMLMetadata)</text><ellipse cx="145.5" cy="281.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="154.5" y="284.4526">process() : Score&lt;?&gt;</text><ellipse cx="145.5" cy="294.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="303" x="154.5" y="297.2573">getPreprocessWarnings() : Collection&lt;ParseWarning&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="303.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="242" x="154.5" y="310.062">processGuitar(String) : Score&lt;GuitarStaff&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="316.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="235" x="154.5" y="322.8667">processBass(String) : Score&lt;GuitarStaff&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="329.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="236" x="154.5" y="335.6714">processDrum(String) : Score&lt;DrumStaff&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="342.2656"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="182" x="154.5" y="348.4761">preprocessGuitar(String) : String</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="355.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="175" x="154.5" y="361.2808">preprocessBass(String) : String</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="367.875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="179" x="154.5" y="374.0854">preprocessDrum(String) : String</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="380.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="270" x="154.5" y="386.8901">commentMetadata(Matcher, StringBuffer) : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="393.4844"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="451" x="154.5" y="399.6948">extractMetadata(String, Matcher, Matcher, int, StringBuilder, List&lt;String&gt;) : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="142.5" y="406.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="202" x="154.5" y="412.4995">showErrors(List&lt;ErrorToken&gt;) : void</text><!--MD5=[70de36391d1fe102d3a67483a6327fe5]
class SerializeGuitarScore--><rect codeLine="26" fill="#FEFECE" filter="url(#fyzvv7ptmd6tn)" height="60.8047" id="SerializeGuitarScore" style="stroke:#A80036;stroke-width:1.5;" width="316" x="7" y="530"/><ellipse cx="99.25" cy="546" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M101.5938,541.6719 C100.6563,541.2344 100.0625,541.0938 99.1875,541.0938 C96.5625,541.0938 94.5625,543.1719 94.5625,545.8906 L94.5625,547.0156 C94.5625,549.5938 96.6719,551.4844 99.5625,551.4844 C100.7813,551.4844 101.9375,551.1875 102.6875,550.6406 C103.2656,550.2344 103.5938,549.7813 103.5938,549.3906 C103.5938,548.9375 103.2031,548.5469 102.7344,548.5469 C102.5156,548.5469 102.3125,548.625 102.125,548.8125 C101.6719,549.2969 101.6719,549.2969 101.4844,549.3906 C101.0625,549.6563 100.375,549.7813 99.6094,549.7813 C97.5625,549.7813 96.2656,548.6875 96.2656,546.9844 L96.2656,545.8906 C96.2656,544.1094 97.5156,542.7969 99.25,542.7969 C99.8281,542.7969 100.4375,542.9531 100.9063,543.2031 C101.3906,543.4844 101.5625,543.7031 101.6563,544.1094 C101.7188,544.5156 101.75,544.6406 101.8906,544.7656 C102.0313,544.9063 102.2656,545.0156 102.4844,545.0156 C102.75,545.0156 103.0156,544.875 103.1875,544.6563 C103.2969,544.5 103.3281,544.3125 103.3281,543.8906 L103.3281,542.4688 C103.3281,542.0313 103.3125,541.9063 103.2188,541.75 C103.0625,541.4844 102.7813,541.3438 102.4844,541.3438 C102.1875,541.3438 101.9844,541.4375 101.7656,541.75 L101.5938,541.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123" x="119.75" y="550.1543">SerializeGuitarScore</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="322" y1="562" y2="562"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="322" y1="570" y2="570"/><ellipse cx="18" cy="581" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="290" x="27" y="584.2104">visitSheet(SheetContext ctx) : Score&lt;GuitarStaff&gt;</text><!--MD5=[f9c90fe06e085c691cb8540fe108d6c9]
class SerializeDrumScore--><rect codeLine="30" fill="#FEFECE" filter="url(#fyzvv7ptmd6tn)" height="60.8047" id="SerializeDrumScore" style="stroke:#A80036;stroke-width:1.5;" width="313" x="149.5" y="787"/><ellipse cx="241.75" cy="803" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M244.0938,798.6719 C243.1563,798.2344 242.5625,798.0938 241.6875,798.0938 C239.0625,798.0938 237.0625,800.1719 237.0625,802.8906 L237.0625,804.0156 C237.0625,806.5938 239.1719,808.4844 242.0625,808.4844 C243.2813,808.4844 244.4375,808.1875 245.1875,807.6406 C245.7656,807.2344 246.0938,806.7813 246.0938,806.3906 C246.0938,805.9375 245.7031,805.5469 245.2344,805.5469 C245.0156,805.5469 244.8125,805.625 244.625,805.8125 C244.1719,806.2969 244.1719,806.2969 243.9844,806.3906 C243.5625,806.6563 242.875,806.7813 242.1094,806.7813 C240.0625,806.7813 238.7656,805.6875 238.7656,803.9844 L238.7656,802.8906 C238.7656,801.1094 240.0156,799.7969 241.75,799.7969 C242.3281,799.7969 242.9375,799.9531 243.4063,800.2031 C243.8906,800.4844 244.0625,800.7031 244.1563,801.1094 C244.2188,801.5156 244.25,801.6406 244.3906,801.7656 C244.5313,801.9063 244.7656,802.0156 244.9844,802.0156 C245.25,802.0156 245.5156,801.875 245.6875,801.6563 C245.7969,801.5 245.8281,801.3125 245.8281,800.8906 L245.8281,799.4688 C245.8281,799.0313 245.8125,798.9063 245.7188,798.75 C245.5625,798.4844 245.2813,798.3438 244.9844,798.3438 C244.6875,798.3438 244.4844,798.4375 244.2656,798.75 L244.0938,798.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="262.25" y="807.1543">SerializeDrumScore</text><line style="stroke:#A80036;stroke-width:1.5;" x1="150.5" x2="461.5" y1="819" y2="819"/><line style="stroke:#A80036;stroke-width:1.5;" x1="150.5" x2="461.5" y1="827" y2="827"/><ellipse cx="160.5" cy="838" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="287" x="169.5" y="841.2104">visitSheet(SheetContext ctx) : Score&lt;DrumStaff&gt;</text><!--MD5=[004b1d6c4ca8aad4ba8b586a335ed4f3]
class Transform--><rect codeLine="34" fill="#FEFECE" filter="url(#fyzvv7ptmd6tn)" height="163.2422" id="Transform" style="stroke:#A80036;stroke-width:1.5;" width="300" x="646" y="479"/><ellipse cx="663.25" cy="495" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M665.5938,490.6719 C664.6563,490.2344 664.0625,490.0938 663.1875,490.0938 C660.5625,490.0938 658.5625,492.1719 658.5625,494.8906 L658.5625,496.0156 C658.5625,498.5938 660.6719,500.4844 663.5625,500.4844 C664.7813,500.4844 665.9375,500.1875 666.6875,499.6406 C667.2656,499.2344 667.5938,498.7813 667.5938,498.3906 C667.5938,497.9375 667.2031,497.5469 666.7344,497.5469 C666.5156,497.5469 666.3125,497.625 666.125,497.8125 C665.6719,498.2969 665.6719,498.2969 665.4844,498.3906 C665.0625,498.6563 664.375,498.7813 663.6094,498.7813 C661.5625,498.7813 660.2656,497.6875 660.2656,495.9844 L660.2656,494.8906 C660.2656,493.1094 661.5156,491.7969 663.25,491.7969 C663.8281,491.7969 664.4375,491.9531 664.9063,492.2031 C665.3906,492.4844 665.5625,492.7031 665.6563,493.1094 C665.7188,493.5156 665.75,493.6406 665.8906,493.7656 C666.0313,493.9063 666.2656,494.0156 666.4844,494.0156 C666.75,494.0156 667.0156,493.875 667.1875,493.6563 C667.2969,493.5 667.3281,493.3125 667.3281,492.8906 L667.3281,491.4688 C667.3281,491.0313 667.3125,490.9063 667.2188,490.75 C667.0625,490.4844 666.7813,490.3438 666.4844,490.3438 C666.1875,490.3438 665.9844,490.4375 665.7656,490.75 L665.5938,490.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61" x="677.75" y="499.1543">Transform</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="200" x="749" y="476"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="198" x="750" y="488.1387">T extends Staff&lt;? extends Line&gt;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="647" x2="945" y1="511" y2="511"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="654" y="519"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="666" y="525.2104">Score&lt;?&gt; sheet</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="654" y="531.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="666" y="538.0151">MusicSheet musicSheet</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="654" y="544.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="666" y="550.8198">Document doc</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="654" y="557.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="150" x="666" y="563.6245">DocumentBuilder dBuilder</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="654" y="570.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="199" x="666" y="576.4292">DocumentBuilderFactory dbFactory</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="654" y="583.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="666" y="589.2339">XMLMetadata metadata</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="654" y="595.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="666" y="602.0386">Instrument instrument</text><line style="stroke:#A80036;stroke-width:1.5;" x1="647" x2="945" y1="608.6328" y2="608.6328"/><ellipse cx="657" cy="619.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="274" x="666" y="622.8433">Transform(Score&lt;T&gt;, Instrument, XMLMetadata)</text><ellipse cx="657" cy="632.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="666" y="635.6479">toXML() : String</text><!--MD5=[ccb08bf2514626e6d11fec6d6805d158]
class Instrument--><rect codeLine="47" fill="#FEFECE" filter="url(#fyzvv7ptmd6tn)" height="137.6328" id="Instrument" style="stroke:#A80036;stroke-width:1.5;" width="173" x="434.5" y="491.5"/><ellipse cx="485.25" cy="507.5" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M484.0469,508.375 L485.5,508.375 L485.5,508.4844 C485.5,508.8906 485.5313,509.0469 485.6094,509.2031 C485.7656,509.4531 486.0469,509.6094 486.3438,509.6094 C486.5938,509.6094 486.8594,509.4688 487.0156,509.25 C487.1406,509.0938 487.1719,508.9375 487.1719,508.4844 L487.1719,506.5625 C487.1719,506.4063 487.1719,506.3594 487.1563,506.2031 C487.0938,505.7344 486.7813,505.4219 486.3281,505.4219 C486.0781,505.4219 485.8125,505.5625 485.6406,505.7813 C485.5313,505.9531 485.5,506.1094 485.5,506.5625 L485.5,506.6875 L484.0469,506.6875 L484.0469,504.2813 L488.0313,504.2813 L488.0313,505.1406 C488.0313,505.5469 488.0625,505.7188 488.1406,505.875 C488.3125,506.125 488.5938,506.2813 488.875,506.2813 C489.1406,506.2813 489.4063,506.1406 489.5781,505.9219 C489.6875,505.75 489.7188,505.6094 489.7188,505.1406 L489.7188,502.5938 L482.0938,502.5938 C481.6563,502.5938 481.5313,502.6094 481.375,502.7031 C481.125,502.8594 480.9688,503.1563 480.9688,503.4375 C480.9688,503.7188 481.1094,503.9688 481.3281,504.1406 C481.4844,504.25 481.6719,504.2813 482.0938,504.2813 L482.3438,504.2813 L482.3438,510.7969 L482.0938,510.7969 C481.6875,510.7969 481.5313,510.8125 481.375,510.9219 C481.125,511.0938 480.9688,511.3594 480.9688,511.6563 C480.9688,511.9219 481.1094,512.1719 481.3281,512.3281 C481.4688,512.4531 481.7031,512.5 482.0938,512.5 L490.0938,512.5 L490.0938,509.9219 C490.0938,509.4844 490.0625,509.3438 489.9844,509.1875 C489.8125,508.9375 489.5313,508.7813 489.25,508.7813 C488.9844,508.7813 488.7188,508.8906 488.5469,509.1406 C488.4375,509.2969 488.4063,509.4375 488.4063,509.9219 L488.4063,510.7969 L484.0469,510.7969 L484.0469,508.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63" x="505.75" y="511.6543">Instrument</text><line style="stroke:#A80036;stroke-width:1.5;" x1="435.5" x2="606.5" y1="523.5" y2="523.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="442.5" y="531.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="454.5" y="537.7104">String name</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="442.5" y="544.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="454.5" y="550.5151">String[][] drumSet</text><line style="stroke:#A80036;stroke-width:1.5;" x1="435.5" x2="606.5" y1="557.1094" y2="557.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="454.5" y="571.3198">GUITAR("Classical Guitar")</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="454.5" y="584.1245">BASS("Bass Guitar")</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="454.5" y="596.9292">DRUM("Drumset")</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="442.5" y="603.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="454.5" y="609.7339">Instrument(String)</text><ellipse cx="445.5" cy="619.3281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="105" x="454.5" y="622.5386">getName() : String</text><path d="M356.5,18.5 L356.5,43.6328 A0,0 0 0 0 356.5,43.6328 L369,43.6328 L373,114.965 L377,43.6328 L389.5,43.6328 A0,0 0 0 0 389.5,43.6328 L389.5,28.5 L379.5,18.5 L356.5,18.5 A0,0 0 0 0 356.5,18.5 " fill="#FBFB77" filter="url(#fyzvv7ptmd6tn)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M379.5,18.5 L379.5,28.5 L389.5,28.5 L379.5,18.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="362.5" y="35.5669">1.</text><path d="M219.5,702 L219.5,727.1328 L252.5,727.1328 L252.5,712 L242.5,702 L219.5,702 " fill="#FBFB77" filter="url(#fyzvv7ptmd6tn)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M242.5,702 L242.5,712 L252.5,712 L242.5,702 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="225.5" y="719.0669">2.</text><path d="M789.5,254.5 L789.5,279.6328 A0,0 0 0 0 789.5,279.6328 L801.596,279.6328 L798.762,478.998 L809.596,279.6328 L822.5,279.6328 A0,0 0 0 0 822.5,279.6328 L822.5,264.5 L812.5,254.5 L789.5,254.5 A0,0 0 0 0 789.5,254.5 " fill="#FBFB77" filter="url(#fyzvv7ptmd6tn)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M812.5,254.5 L812.5,264.5 L822.5,264.5 L812.5,254.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="795.5" y="271.5669">3.</text><!--MD5=[628cc5a2753cca06eb1ffef55c386535]
class Parser--><rect fill="#FEFECE" filter="url(#fyzvv7ptmd6tn)" height="48" id="Parser" style="stroke:#A80036;stroke-width:1.5;" width="70" x="630" y="7"/><ellipse cx="645" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M647.3438,18.6719 C646.4063,18.2344 645.8125,18.0938 644.9375,18.0938 C642.3125,18.0938 640.3125,20.1719 640.3125,22.8906 L640.3125,24.0156 C640.3125,26.5938 642.4219,28.4844 645.3125,28.4844 C646.5313,28.4844 647.6875,28.1875 648.4375,27.6406 C649.0156,27.2344 649.3438,26.7813 649.3438,26.3906 C649.3438,25.9375 648.9531,25.5469 648.4844,25.5469 C648.2656,25.5469 648.0625,25.625 647.875,25.8125 C647.4219,26.2969 647.4219,26.2969 647.2344,26.3906 C646.8125,26.6563 646.125,26.7813 645.3594,26.7813 C643.3125,26.7813 642.0156,25.6875 642.0156,23.9844 L642.0156,22.8906 C642.0156,21.1094 643.2656,19.7969 645,19.7969 C645.5781,19.7969 646.1875,19.9531 646.6563,20.2031 C647.1406,20.4844 647.3125,20.7031 647.4063,21.1094 C647.4688,21.5156 647.5,21.6406 647.6406,21.7656 C647.7813,21.9063 648.0156,22.0156 648.2344,22.0156 C648.5,22.0156 648.7656,21.875 648.9375,21.6563 C649.0469,21.5 649.0781,21.3125 649.0781,20.8906 L649.0781,19.4688 C649.0781,19.0313 649.0625,18.9063 648.9688,18.75 C648.8125,18.4844 648.5313,18.3438 648.2344,18.3438 C647.9375,18.3438 647.7344,18.4375 647.5156,18.75 L647.3438,18.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="38" x="659" y="27.1543">Parser</text><line style="stroke:#A80036;stroke-width:1.5;" x1="631" x2="699" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="631" x2="699" y1="47" y2="47"/><!--MD5=[741a8627ba8baa87db06094297ab8d13]
link SerializeGuitarScore to N2--><path codeLine="61" d="M178.858,591.168 C194.597,624.862 219.513,678.204 230.494,701.712 " fill="none" id="SerializeGuitarScore-N2" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[6413470511d8c22d0ac601a1ec44b16f]
link N2 to SerializeDrumScore--><path codeLine="62" d="M244.03,727.086 C254.085,741.594 271.676,766.9754 285.553,786.9981 " fill="none" id="N2-SerializeDrumScore" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[54824497402a5e2eec52c1338129c753]
reverse link Parser to Processor--><path codeLine="65" d="M626.046,63.216 C608.289,77.446 585.842,95.435 561.686,114.793 " fill="none" id="Parser-backto-Processor" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="636.203,55.077,629.0196,55.708,626.8391,62.5815,634.0226,61.9506,636.203,55.077" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="619.7988" y="75.2525">1</text><!--MD5=[34033b6af071360fb3fc30fd0c86bb3b]
reverse link Processor to SerializeGuitarScore--><path codeLine="66" d="M257.303,430.142 C229.953,468.472 203.696,505.269 186.228,529.751 " fill="none" id="Processor-backto-SerializeGuitarScore" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="265.04,419.3,258.2989,421.8607,258.0699,429.0682,264.811,426.5075,265.04,419.3" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="251.6169" y="439.1082">1</text><!--MD5=[fd909cacb635fa1fb1af29d829f6c77e]
reverse link Processor to SerializeDrumScore--><path codeLine="67" d="M362.192,432.795 C356.935,498.109 349.631,573.767 340,642 C332.775,693.191 320.449,752.0981 312.79,786.7089 " fill="none" id="Processor-backto-SerializeDrumScore" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="363.249,419.449,358.7874,425.1142,362.3008,431.4115,366.7624,425.7463,363.249,419.449" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="354.5829" y="439.2644">1</text><!--MD5=[e77e41236a232992886ba9d89c2caf42]
reverse link Processor to Instrument--><path codeLine="68" d="M455.808,431.099 C466.556,452.266 477.051,472.939 486.371,491.296 " fill="none" id="Processor-backto-Instrument" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="449.818,419.3,448.9672,426.4607,455.2499,430.0002,456.1007,422.8395,449.818,419.3" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="445.3451" y="439.1082">1</text><!--MD5=[afc1935edd4ef5d133e6e5133d5487c4]
reverse link Parser to Instrument--><path codeLine="69" d="M668.164,68.543 C672.875,139.06 676.633,297.654 629,419 C618.882,444.775 602.53,469.792 585.578,491.399 " fill="none" id="Parser-backto-Instrument" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="667.193,55.264,663.6415,61.5399,668.0686,67.232,671.6201,60.9561,667.193,55.264" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="658.7525" y="75.0896">1</text><!--MD5=[43b6fe369902da6002757ec1b1af6c2a]
link Parser to Transform--><path codeLine="70" d="M672.732,55.124 C678.155,71.701 685.407,94.613 691,115 C725.616,241.173 759.229,389.355 778.752,478.761 " fill="none" id="Parser-Transform" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[08b22685f9e63e78b47354f872c43155]
@startuml
class Processor {
  -{static} SerializeGuitarScore sgs
  -{static} SerializeDrumScore sds

  -String input
  -Instrument instrument
  -XMLMetadata metadata
  -InputValidation validator
  -LinkedList<ParseWarning> preprocessWarnings

  +Processor(String, Instrument, XMLMetadata)
  +process() : Score<?>
  +getPreprocessWarnings() : Collection<ParseWarning>
  -{static} processGuitar(String) : Score<GuitarStaff>
  -{static} processBass(String) : Score<GuitarStaff>
  -{static} processDrum(String) : Score<DrumStaff>
  -{static} preprocessGuitar(String) : String
  -{static} preprocessBass(String) : String
  -{static} preprocessDrum(String) : String
  -{static} commentMetadata(Matcher, StringBuffer) : void
  -{static} extractMetadata(String, Matcher, Matcher, int, StringBuilder, List<String>) : void
  -{static} showErrors(List<ErrorToken>) : void
  
}

class SerializeGuitarScore {
  +visitSheet(SheetContext ctx) : Score<GuitarStaff>
}

class SerializeDrumScore {
  +visitSheet(SheetContext ctx) : Score<DrumStaff>
}

class Transform<T extends Staff<? extends Line>>{
  -Score<?> sheet
  -MusicSheet musicSheet
  -Document doc
  -DocumentBuilder dBuilder
  -DocumentBuilderFactory dbFactory
  -XMLMetadata metadata
  -Instrument instrument
   
  +Transform(Score<T>, Instrument, XMLMetadata)
  +toXML() : String
}

enum Instrument {
  GUITAR("Classical Guitar")
  BASS("Bass Guitar")
  DRUM("Drumset")
  
  -String name
  -String[][] drumSet

  -Instrument(String)
  +getName() : String
}

note top of Processor : 1.
note "2." as N2
SerializeGuitarScore .. N2
N2 .. SerializeDrumScore
note top of Transform : 3.

Parser "1" o- - Processor
Processor "1" o- - SerializeGuitarScore
Processor "1" o- - SerializeDrumScore
Processor "1" o- - Instrument
Parser "1" o- - Instrument
Parser - - - Transform
@enduml

PlantUML version 1.2021.5beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>